<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xml:lang="">
<h:head>
    <title>Add accountEnt</title>
    <link rel="stylesheet" type="text/css" href="styles/addAccount.css"/>
</h:head>
<h:body>
    <div class="container">
        <h:form id="addAccount">
            <label for="login">Login</label>
            <h:inputText id="login" value="#{addAccountController.pl.lodz.p.it.rentviewports.account.login}"
                         required="true"
                         validator="#{addAccountController.accountService.accountRepo.checkIfUsernameExists}"
                         requiredMessage="The field is empty"
                         validatorMessage="String is not valid (only characters a-z A-Z 0-9). Minimal length is 5, maximal length is 20">
                <f:validateLength minimum="5" maximum="20"/>
            </h:inputText>
            <h:message for="login" errorStyle="color:red; font-weight: bold; display:block"/>
            <label for="password">Password</label>
            <h:inputSecret id="password" value="#{addAccountController.pl.lodz.p.it.rentviewports.account.password}"
                           required="true"
                           requiredMessage="The field is empty"
                           validatorMessage="String is not valid (only characters a-z A-Z 0-9). Minimal length is 5, maximal length is 20">
                <f:validateLength minimum="5" maximum="20"/>
            </h:inputSecret>
            <h:message for="password" errorStyle="color:red; font-weight: bold; display:block"/>
            <label for="fname">First Name</label>
            <h:inputText id="fname" value="#{addAccountController.pl.lodz.p.it.rentviewports.account.firstName}"
                         required="true"
                         requiredMessage="The field is empty"
                         validatorMessage="String is not valid (only characters a-z A-Z)"/>
            <h:message for="fname" errorStyle="color:red; font-weight: bold; display:block"/>
            <label for="lname">Last Name</label>
            <h:inputText id="lname" value="#{addAccountController.pl.lodz.p.it.rentviewports.account.lastName}"
                         required="true"
                         requiredMessage="The field is empty"
                         validatorMessage="String is not valid (only characters a-z A-Z)"/>
            <h:message for="lname" errorStyle="color:red; font-weight: bold; display:block"/>
            <br/><br/><br/>
            <h:commandButton id="addButton"
                             value="Register"
                             action="/login.xhtml"
                             onclick="return window.confirm('Are you sure you want to register yourself?')">
                <f:actionListener binding="#{addAccountController.pl.lodz.p.it.rentviewports.account.setRoleOfUser('USER')}"/>
                <f:actionListener binding="#{addAccountController.pl.lodz.p.it.rentviewports.account.setActive(false)}"/>
                <f:actionListener binding="#{addAccountController.addConfirmed()}"/>
            </h:commandButton>
            <h:button value="Back" class="button" outcome="/login.xhtml"/>
        </h:form>
    </div>
</h:body>
</html>
